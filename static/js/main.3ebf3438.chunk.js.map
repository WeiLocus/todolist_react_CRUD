{"version":3,"sources":["assets/images/ac-logo.svg","api/auth.js","contexts/AuthContext.jsx","pages/HomePage.jsx","components/common/auth.styled.js","assets/images/check-active.svg","assets/images/check-circle.svg","assets/images/check-hover.svg","components/AuthInput.jsx","components/Header.jsx","components/TodoInput.jsx","components/TodoItem.jsx","components/TodoCollection.jsx","components/Footer.jsx","pages/LoginPage.jsx","pages/SignUpPage.jsx","api/todos.js","pages/TodoPage.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["_path","_path2","_path3","_path4","authURL","login","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","username","password","_yield$axios$post","data","wrap","_context","prev","next","axios","post","concat","sent","authToken","abrupt","_objectSpread","success","t0","console","error","stop","_x","apply","arguments","register","_ref4","_callee2","_ref3","email","_yield$axios$post2","_context2","_x2","checkPermission","_ref5","_callee3","response","_context3","get","headers","Authorization","log","_x3","defaultAuthContext","isAuthenticated","currentMember","logout","AuthContext","createContext","useAuth","useContext","AuthProvider","children","_useState","useState","_useState2","_slicedToArray","setIsAuthenticated","_useState3","_useState4","payload","setPayload","pathname","useLocation","useEffect","checkTokenIsValid","tempPayload","localStorage","getItem","jwt","_jsx","Provider","value","id","sub","name","_register2","_yield$_register","setItem","_login2","_yield$_login","removeItem","HomePage","navigate","useNavigate","StyedContainer","styled","div","_templateObject","_taggedTemplateLiteral","StyledAuthInputContainer","_templateObject2","StyledButton","button","_templateObject3","StyledLinkText","_templateObject4","_excluded","_extends","Object","assign","bind","target","i","length","source","key","prototype","hasOwnProperty","call","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgAcLogo","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","fillRule","clipRule","d","ForwardRef","StyledContainer","StyledLabel","label","StyledInput","input","AuthInput","type","placeholder","onChange","_jsxs","event","StyledHeader","header","StyledGreetingText","Header","StyledAddTodoContainer","StyledLabelIcon","StyledInputContainer","StyledAddTodoActionContainer","TodoInput","inputValue","onKeyDown","onAddTodo","className","clsx","active","htmlFor","e","onClick","StyledTaskItem","CheckActiveIcon","CheckCircleIcon","CheckHoverIcon","TodoItem","todo","onToggleDone","onSave","onDelete","onChangeMode","inputRef","useRef","done","isDone","edit","isEdit","onDoubleClick","defaultValue","current","TodoCollection","todos","map","StyledFooter","footer","Footer","numOfTodos","LoginPage","setUsername","setPassword","_useAuth","handleClick","Swal","fire","icon","showConfirmButtonText","timer","position","AuthContainer","ACLogoIcon","AuthInputContainer","nameInputValue","passwordInputValue","AuthButton","Link","to","AuthLinkText","SignUpPage","setEmail","_useState5","_useState6","handleSignupClick","emailInputValue","baseURL","axiosInstance","create","interceptors","request","use","config","token","getTodos","createTodo","patchTodo","patch","deleteTodo","_callee4","_context4","delete","TodoPage","setInputValue","setTodos","handleAddTodo","prevTodos","_toConsumableArray","handleKeyDown","handleToggleDone","currentTodo","find","handleSave","_ref6","handleDelete","_ref7","_callee5","_context5","filter","getTodosAsync","_ref8","_callee6","_todos","_context6","App","BrowserRouter","basename","process","Routes","Route","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","React","StrictMode"],"mappings":"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","file":"static/js/main.3ebf3438.chunk.js","sourcesContent":["var _path, _path2, _path3, _path4;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgAcLogo(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40,\n    viewBox: \"0 0 40 40\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M25.6996 18.4709C25.6996 18.4709 18.2328 30.5781 12.1109 30.5781C1.40314 30.5781 11.3821 7.51318 19.1916 7.51318C24.641 7.51318 25.6996 18.4709 25.6996 18.4709Z\",\n    fill: \"#FF6600\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M34.5723 33.6972C32.4451 35.9607 29.8198 37.6976 26.9044 38.7701C23.989 39.8426 20.8639 40.2213 17.7767 39.8761C14.6895 39.5309 11.7252 38.4713 9.11881 36.7813C6.51245 35.0914 4.33573 32.8175 2.76123 30.1401C4.5314 32.5477 7.53375 34.1527 11.803 34.1527C22.3199 34.1527 28.2899 25.98 28.2899 25.98C28.2899 25.98 28.8062 32.4392 34.5593 33.6972H34.5723Z\",\n    fill: \"#FF6600\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M37.7223 10.7451C39.2963 13.7527 40.0781 17.1116 39.9939 20.505C39.9096 23.8984 38.9621 27.2144 37.2407 30.1401C35.8792 29.3764 34.8725 28.1082 34.4379 26.609L32.1558 19.7724L37.7223 10.7451Z\",\n    fill: \"#FF6600\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M20.0031 0.0173688C25.0185 0.0140335 29.8513 1.89881 33.5398 5.29665L29.7521 11.4088C28.3811 7.84302 25.5957 4.2729 20.1767 4.2729C9.07841 4.2729 0.852307 16.3888 0.852307 23.9846C0.849861 24.9669 0.975283 25.9454 1.22543 26.8953C0.115582 23.8725 -0.247948 20.6265 0.165719 17.4331C0.579385 14.2398 1.75802 11.1934 3.60147 8.55306C5.44491 5.91269 7.89866 3.75634 10.7542 2.26726C13.6097 0.778179 16.7826 0.000388507 20.0031 0V0.0173688Z\",\n    fill: \"#FF6600\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAcLogo);\nexport default __webpack_public_path__ + \"static/media/ac-logo.f4e0f3cb.svg\";\nexport { ForwardRef as ReactComponent };","import axios from 'axios';\n\n//定義要串接API的URL\nconst authURL = 'https://todo-list.alphacamp.io/api/auth';\n\n//login需要帳號密碼，由前端畫面做傳入\nexport const  login = async({username, password}) => {\n  try {\n    //請求發行後會回傳一組authToken\n    //response都會被封裝在名為data的物件\n    const { data } = await axios.post(`${authURL}/login`, {\n      username,\n      password,\n    });\n    // console.log(data); //確認串接狀態是否成功\n    //登入成功可以拿到一組authToken\n    const { authToken } = data;\n    // console.log(authToken)\n    //如果登入成功，加上success 屬性做為 flag\n    if (authToken) {\n      return { success: true, ...data };\n    }\n    return data; //登入失敗\n  } catch (error) {\n    console.error('[Login Failed]',error)\n  }\n}\n\n//註冊功能\nexport const register = async({username, email, password}) => {\n  try {  \n    const { data } = await axios.post(`${authURL}/register`, {\n    username,\n    email,\n    password,\n  });\n  //註冊成功可以拿到一組authToken\n  const { authToken } = data \n  if ( authToken ) {\n    return { success: true, ...data}\n  }\n  return data\n  } catch (error) {\n    console.error('[Register Failed]', error);\n  }\n}\n\n//身份驗證:Token是否有效\nexport const checkPermission = async(authToken) => {\n  try {\n  // response會有 success的參數\n  const response = await axios.get(`${authURL}/test-token`,{\n    headers: {\n      // Bearer是前綴，還要再空一格＋ authToken\n      Authorization: 'Bearer ' + authToken\n    }\n  })\n  //return true/false\n  return response.data.success\n  } catch (error) {\n    console.log('[Check Permission Failed]:',error)\n  }\n\n}","import { createContext, useEffect, useState, useContext } from 'react'\nimport { register, login, checkPermission} from '../api/auth'\nimport * as jwt from 'jsonwebtoken'\nimport { useLocation } from 'react-router-dom';\n\n//定義要共享的狀態與方法\nconst defaultAuthContext = {\n  isAuthenticated: false,\n  currentMember: null,\n  register: null,\n  login: null,\n  logout: null,\n};\n\n//統一儲存身分狀態\nconst AuthContext = createContext(defaultAuthContext)\nexport const useAuth = () => useContext(AuthContext)\n\n//建立Provider管理狀態，封裝會影響到身分狀態的註冊、登入、登出方法\nexport const AuthProvider = ({ children }) => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  //透過解析token方式取得payload\n  const [payload, setPayload] = useState(null);\n  \n  //路徑變化（useLocation）時驗證使用者身分\n  const { pathname } = useLocation( )\n  useEffect(() => {\n    const checkTokenIsValid = async() => {\n      const authToken = localStorage.getItem('authToken');\n      if (!authToken) {\n        setIsAuthenticated(false);\n        setPayload(null);\n        return;\n      }\n      //authToken存在，用checkPermission()檢查有效性\n      const result = await checkPermission(authToken);\n      if (result) {\n        setIsAuthenticated(true);\n        const tempPayload = jwt.decode(authToken);\n        setPayload(tempPayload);\n      } else {\n        setIsAuthenticated(false);\n        setPayload(null);\n      }\n    }\n    checkTokenIsValid()\n  },[pathname])\n\n  return (\n    <AuthContext.Provider\n      value={{\n        isAuthenticated,\n        currentMember: payload && {\n          id: payload.sub, //使用者 id\n          name: payload.name, //使用者帳號\n        },\n        // 註冊方法\n        register: async (data) => {\n          const { success, authToken } = await register({\n            username: data.username,\n            email: data.email,\n            password: data.password,\n          });\n          //透過jwt.decode 來解析 authToken\n          const tempPayload = jwt.decode(authToken);\n          //成功解析，登出有效\n          if (tempPayload) {\n            //setPayload 存進 Context 的內部狀態\n            setPayload(tempPayload);\n            setIsAuthenticated(true);\n            localStorage.setItem('authToken', authToken);\n          } else {\n            setPayload(null);\n            setIsAuthenticated(false);\n          }\n          return success;\n        },\n        //登入方法\n        login: async (data) => {\n          const { success, authToken } = await login({\n            username: data.username,\n            password: data.password,\n          });\n          //透過jwt.decode 來解析 authToken\n          const tempPayload = jwt.decode(authToken);\n          if (tempPayload) {\n            setPayload(tempPayload);\n            setIsAuthenticated(true);\n            localStorage.setItem('authToken', authToken);\n          } else {\n            setPayload(null);\n            setIsAuthenticated(false);\n          }\n          return success;\n        },\n        //登出方法\n        logout: () => {\n          localStorage.removeItem('authToken');\n          setPayload(null);\n          setIsAuthenticated(false);\n        },\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}","import { useAuth } from '../contexts/AuthContext'\nimport { useNavigate } from 'react-router-dom';\nimport { useEffect } from 'react';\n\nconst HomePage = () => {\n  const navigate = useNavigate()\n  const { isAuthenticated } = useAuth()\n\n  useEffect (() => {\n    if (isAuthenticated) {\n      navigate('.todo')\n    } else {\n      navigate('/login')\n    }\n  },[navigate, isAuthenticated])\n  return <div>HomePage</div>;\n};\n\nexport default HomePage;\n","import styled from 'styled-components';\n\nconst StyedContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 50px;\n`;\n\nconst StyledAuthInputContainer = styled.div`\n  width: 50%;\n  margin-top: 30px;\n`;\n\nconst StyledButton = styled.button`\n  border-radius: 30px;\n  background-color: #ff6600;\n  border: none;\n\n  color: white;\n  min-width: 300px;\n  font-family: 'Noto Sans TC', sans-serif;\n  font-weight: bold;\n  padding: 6px 0;\n  margin: 2rem 0;\n\n  &.hover {\n    cursor: pointer;\n  }\n`;\n\nconst StyledLinkText = styled.div`\n  color: #0062ff;\n  font-size: 16px;\n  font-weight: 400;\n`;\n\nexport {\n  StyedContainer as AuthContainer,\n  StyledAuthInputContainer as AuthInputContainer,\n  StyledButton as AuthButton,\n  StyledLinkText as AuthLinkText,\n};\n","export default __webpack_public_path__ + \"static/media/check-active.95ca055c.svg\";","export default __webpack_public_path__ + \"static/media/check-circle.30720b46.svg\";","export default __webpack_public_path__ + \"static/media/check-hover.5e00062b.svg\";","import styled from 'styled-components';\n\nconst StyledContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  background-color: #f5f8fa;\n  width: 100%;\n  height: 54px;\n  border-bottom: 2px solid black;\n`;\nconst StyledLabel = styled.label`\n  font-size: 14;\n  color: '#696974';\n  text-align: start;\n`;\n\nconst StyledInput = styled.input`\n  outline: none;\n  border: none;\n  background-color: #f5f8fa;\n  border-radius: 0px;\n`;\n\nconst AuthInput = ({type, label, value, placeholder, onChange}) => {\n  return (\n    <StyledContainer>\n      <StyledLabel>{label}</StyledLabel>\n      <StyledInput type={type ||'text'}\n      placeholder={placeholder}\n      value={value}\n      onChange={(event) => {onChange?.(event.target.value)}} />\n    </StyledContainer>\n  );\n};\n\nexport default AuthInput;\n","import styled from 'styled-components';\n\nconst StyledHeader = styled.header`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  color: var(--major);\n  padding: 0 16px;\n\n  h3 {\n    font-weight: 400;\n    user-select: none;\n  }\n`;\n\nconst StyledGreetingText = styled.div`\n  color: var(--gray);\n  span {\n    color: var(--major);\n  }\n`;\n\nconst Header = ({username}) => {\n  return (\n    <StyledHeader>\n      <h3>Tasks</h3>\n      <StyledGreetingText>\n        Hi <span>{username}</span>\n      </StyledGreetingText>\n    </StyledHeader>\n  );\n};\n\nexport default Header;\n","import styled from 'styled-components';\nimport clsx from 'clsx';\n\nconst StyledAddTodoContainer = styled.div`\n  min-height: 52px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  word-wrap: break-word;\n  word-break: break-word;\n  padding: 0 12px;\n  box-shadow: 0 17px 0 -16px #e5e5e5;\n  flex-wrap: wrap;\n\n  &.active {\n    box-shadow: 0 17px 0 -16px var(--major);\n  }\n`;\n\nconst StyledLabelIcon = styled.label`\n  display: inline-flex;\n  font-size: 30px;\n  transition: color 0.2s ease-out;\n  font-weight: 300;\n\n  &:after {\n    content: '+';\n  }\n`;\n\nconst StyledInputContainer = styled.div`\n  min-height: 52px;\n  display: flex;\n  align-items: center;\n  flex: 1;\n  user-select: none;\n\n  input {\n    flex: 1;\n    padding: 8px 12px;\n    border: 0;\n    outline: 0;\n    font-size: 1rem;\n\n    &::placeholder {\n      color: var(--major);\n      font-size: 13px;\n    }\n  }\n  $.active {\n    input::placeholder {\n      color: var(--gray);\n    }\n  }\n`;\n\nconst StyledAddTodoActionContainer = styled.div`\n  button {\n    font-size: 13px;\n    color: var(--major);\n    padding-right: 5px;\n    display: none;\n  }\n\n  &.active {\n    button {\n      display: block;\n    }\n  }\n`;\nconst TodoInput = ({inputValue, onChange, onKeyDown, onAddTodo}) => {\n  return (\n    <StyledAddTodoContainer\n      className={clsx('', { active: inputValue.length > 0 })}\n    >\n      <StyledLabelIcon className=\"icon\" htmlFor=\"add-todo-input\" />\n      <StyledInputContainer>\n        <input\n          id=\"add-todo-input\"\n          type=\"text\"\n          placeholder=\"新增工作\"\n          value={inputValue}\n          onChange={(e) => {\n            onChange?.(e.target.value);\n          }}\n          onKeyDown={(event) => {\n            if (event.key === 'Enter') {\n              onKeyDown?.();\n            }\n          }}\n        />\n      </StyledInputContainer>\n      <StyledAddTodoActionContainer\n        className={clsx('', { active: inputValue.length > 0 })}\n      >\n        <button className=\"btn-reset\" onClick={() => onAddTodo?.()}>\n          新增\n        </button>\n      </StyledAddTodoActionContainer>\n    </StyledAddTodoContainer>\n  );\n};\n\nexport default TodoInput;\n","import styled from 'styled-components';\nimport {\n  CheckActiveIcon,\n  CheckCircleIcon,\n  CheckHoverIcon,\n} from 'assets/images';\nimport clsx from 'clsx'\nimport { useRef } from 'react';\n\nconst StyledTaskItem = styled.div`\n  min-height: 52px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  word-wrap: break-word;\n  word-break: break-word;\n  padding: 0 12px;\n  box-shadow: 0 17px 0 -16px #e5e5e5;\n  flex-wrap: wrap;\n\n  .task-item-body-input {\n    user-select: none;\n    display: none;\n    flex: 1;\n    padding: 8px 0px;\n    border: 0;\n    outline: 0;\n    font-size: 1rem;\n\n    &::placeholder {\n      color: var(--gray);\n      font-size: 13px;\n    }\n  }\n\n  &:hover {\n    background: #fff3eb;\n    box-shadow: inset 0 0 0 1px #fff3eb;\n\n    .task-item-action .btn-destroy {\n      display: inline-flex;\n    }\n  }\n\n  &.done {\n    .task-item-body {\n      color: var(--gray);\n      text-decoration: line-through;\n    }\n\n    .icon-checked {\n      background-image: url(${CheckActiveIcon});\n    }\n  }\n\n  &.edit {\n    .task-item-body-input {\n      display: block;\n    }\n    .task-item-body-text {\n      display: none;\n    }\n    .task-item-action {\n      display: none;\n    }\n  }\n\n  .task-item-checked {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .task-item-body {\n    font-weight: 400;\n    padding: 8px 12px;\n    flex: 1;\n    display: flex;\n  }\n\n  .task-item-action {\n    .btn-destroy {\n      display: none;\n      font-size: 30px;\n      transition: color 0.2s ease-out;\n      font-weight: 300;\n      &:after {\n        content: '×';\n      }\n    }\n  }\n\n  .icon-checked {\n    background-image: url(${CheckCircleIcon});\n    background-position: center;\n    background-repeat: no-repeat;\n\n    &:hover {\n      transition: background-image 0.5s;\n      background-image: url(${CheckHoverIcon});\n    }\n  }\n`;\n\nconst TodoItem = ({todo, onToggleDone, onSave, onDelete, onChangeMode}) => {\n  const inputRef = useRef(null)\n  //監聽器：編輯todo.title時按下Enter/Esc鍵時\n  const handleKeyDown = (event) => {\n    //輸入Enter取得當前輸入框的內容\n    if (inputRef.current.value.length > 0 && event.key === 'Enter') {\n      onSave?.({id: todo.id, title: inputRef.current.value})\n    }\n    //輸入Esc，取消編輯模式\n    if (event.key === 'Escape') {\n      onChangeMode?.({id: todo.id, isEdit:false})\n    }\n  }\n  return (\n    <StyledTaskItem className={clsx('',{done:todo.isDone, edit:todo.isEdit})}>\n      <div className=\"task-item-checked\">\n        <span className=\"icon icon-checked\" \n          onClick={()=> {onToggleDone?.(todo.id)}}/>\n      </div>\n      <div className=\"task-item-body\"\n        onDoubleClick={()=> {\n          onChangeMode?.({id: todo.id, isEdit: true})\n        }}>\n        <span className=\"task-item-body-text\">{todo.title}</span>\n        <input \n          ref={inputRef} className=\"task-item-body-input\" defaultValue={todo.title}\n          onKeyDown={handleKeyDown}/>\n      </div>\n      <div className=\"task-item-action \">\n        <button className=\"btn-reset btn-destroy icon\"\n          onClick={()=> onDelete?.(todo.id)}></button>\n      </div>\n    </StyledTaskItem>\n  );\n};\n\nexport default TodoItem;\n","import TodoItem from './TodoItem';\n\nconst TodoCollection = ({todos, onToggleDone, onSave, onDelete, onChangeMode }) => {\n  //對todos做迭代\n  return (\n    <div>\n      {todos.map((todo) => {\n        return (\n          <TodoItem\n            key={todo.id}\n            todo={todo}\n            onToggleDone={(id) => {\n              onToggleDone?.(id);\n            }}\n            onChangeMode={({ id, isEdit }) => {\n              onChangeMode?.({ id, isEdit });\n            }}\n            onSave={({id, title}) => {\n              onSave?.({id,title})\n            }}\n            onDelete={(id) => {\n              onDelete?.(id)\n            }}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default TodoCollection;\n","import styled from 'styled-components';\nimport { useAuth } from '../contexts/AuthContext'\n\nconst StyledFooter = styled.footer`\n  display: flex;\n  justify-content: space-between;\n\n  padding: 0 16px;\n  p {\n    font-size: 14px;\n    font-weight: 300;\n    margin: 2rem 0 1rem;\n  }\n`;\n\nconst StyledButton = styled.button`\n  padding: 0;\n  border: 0;\n  background: none;\n  vertical-align: baseline;\n  appearance: none;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  cursor: pointer;\n  outline: 0;\n\n  font-size: 14px;\n  font-weight: 300;\n  margin: 2rem 0 1rem;\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst Footer = ({ numOfTodos }) => {\n  const { logout } = useAuth()\n  const handleLogoutClick = () => {\n    logout()\n  }\n  return (\n    <StyledFooter>\n      <p>剩餘項目數： {numOfTodos.length}</p>\n      <StyledButton onClick={handleLogoutClick}>登出</StyledButton>\n    </StyledFooter>\n  );\n};\n\nexport default Footer;\n","import {\n  AuthContainer,\n  AuthInputContainer,\n  AuthButton,\n  AuthLinkText,\n} from 'components/common/auth.styled';\nimport { ACLogoIcon } from 'assets/images';\nimport { AuthInput } from 'components';\nimport { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom'\nimport Swal from 'sweetalert2';\nimport { useAuth } from '../contexts/AuthContext'\n\nconst LoginPage = () => {\n  //用state儲存input value 和 password\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  //切換頁面\n  const navigate = useNavigate();\n  //取出login方法與isAuthenticated 身分狀態\n  const { login, isAuthenticated } = useAuth();\n\n  //點擊登入按鈕呼叫login function\n  const handleClick = async () => {\n    if (username.length === 0) return;\n    if (password.length === 0) return;\n    const success = await login({ username, password });\n    //登入成功，將token儲存在localStorage\n    if (success) {\n      //登入成功提示訊息\n      Swal.fire({\n        title: '登入成功',\n        icon: 'success',\n        showConfirmButtonText: false,\n        timer: 1000,\n        position: 'top',\n      });\n      return;\n    }\n    //登入失敗提示訊息\n    Swal.fire({\n      title: '登入失敗',\n      icon: 'error',\n      showConfirmButtonText: false,\n      timer: 1000,\n      position: 'top',\n    });\n  };\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate('/todo');\n    }\n  }, [navigate, isAuthenticated]);\n  return (\n    <AuthContainer>\n      <div>\n        <ACLogoIcon />\n      </div>\n      <h1>登入 Todo</h1>\n\n      <AuthInputContainer>\n        <AuthInput\n          label=\"帳號\"\n          placeholder=\"請輸入帳號\"\n          value={username}\n          onChange={(nameInputValue) => setUsername(nameInputValue)}\n        />\n      </AuthInputContainer>\n\n      <AuthInputContainer>\n        <AuthInput\n          type=\"password\"\n          label=\"密碼\"\n          placeholder=\"請輸入密碼\"\n          value={password}\n          onChange={(passwordInputValue) => setPassword(passwordInputValue)}\n        />\n      </AuthInputContainer>\n      <AuthButton onClick={handleClick}>登入</AuthButton>\n      <Link to=\"/signup\">\n        <AuthLinkText>註冊</AuthLinkText>\n      </Link>\n    </AuthContainer>\n  );\n};\n\nexport default LoginPage;\n","import {\n  AuthContainer,\n  AuthInputContainer,\n  AuthButton,\n  AuthLinkText,\n} from 'components/common/auth.styled';\nimport { ACLogoIcon } from 'assets/images';\nimport { AuthInput } from 'components';\nimport { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport { useAuth } from '../contexts/AuthContext'\n\nconst SignUpPage = () => {\n  //用state儲存input value、email、password\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  //切換頁面\n  const navigate = useNavigate();\n  //取出 register方法與isAuthenticated 身分狀態\n  const { register, isAuthenticated } = useAuth();\n\n  //監聽註冊按鈕呼叫register function\n  const handleSignupClick = async () => {\n    if (username.length === 0) return;\n    if (password.length === 0) return;\n    if (email.length === 0) return;\n    const success = await register({\n      username,\n      email,\n      password,\n    });\n    if (success) {\n      //註冊成功提示訊息\n      Swal.fire({\n        title: '註冊成功',\n        icon: 'success',\n        showConfirmButtonText: false,\n        timer: 1000,\n        position: 'top',\n      });\n      return;\n    }\n    //登入失敗提示訊息\n    Swal.fire({\n      title: '註冊失敗',\n      icon: 'info',\n      showConfirmButtonText: false,\n      timer: 1000,\n      position: 'top',\n    });\n  };\n  //呼叫checkPermission\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate('/todo');\n    }\n  }, [navigate, isAuthenticated]);\n  return (\n    <AuthContainer>\n      <div>\n        <ACLogoIcon />\n      </div>\n      <h1>建立您的帳號</h1>\n\n      <AuthInputContainer>\n        <AuthInput\n          label=\"帳號\"\n          placeholder=\"請輸入帳號\"\n          value={username}\n          onChange={(nameInputValue) => setUsername(nameInputValue)}\n        />\n      </AuthInputContainer>\n\n      <AuthInputContainer>\n        <AuthInput\n          label=\"Email\"\n          placeholder=\"請輸入email\"\n          value={email}\n          onChange={(emailInputValue) => setEmail(emailInputValue)}\n        />\n      </AuthInputContainer>\n\n      <AuthInputContainer>\n        <AuthInput\n          label=\"密碼\"\n          placeholder=\"請輸入密碼\"\n          value={password}\n          onChange={(passwordInputValue) => setPassword(passwordInputValue)}\n        />\n      </AuthInputContainer>\n      <AuthButton onClick={handleSignupClick}>註冊</AuthButton>\n      <Link to=\"/login\">\n        <AuthLinkText>取消</AuthLinkText>\n      </Link>\n    </AuthContainer>\n  );\n};\n\nexport default SignUpPage;\n","import axios from 'axios'\n\n//定義URL:todo list server\nconst baseURL = 'https://todo-list.alphacamp.io/api';\n\nconst axiosInstance = axios.create({\n  baseURL: baseURL\n})\n//Add a request interceptor\naxiosInstance.interceptors.request.use (\n  (config) => {\n    //在header加上token\n    const token = localStorage.getItem('authToken')\n    if (token) {\n      config.headers['Authorization'] = `Bearer ${token}`\n    }\n    return config\n  },\n  (error) => {\n    console.error(error)\n  }\n)\n//get\nexport const  getTodos = async() => {\n  try {\n    const response = await axiosInstance.get(`${baseURL}/todos`)\n    //回傳結果會封裝在data\n    return response.data.data\n  }\n  catch (error) {\n    console.log('[Get Todos failed]:',error)\n  }\n}\n//create -> Post\nexport const createTodo = async (payload) => {\n  //payload(打包後的資訊)裡面會有 title,isDone\n  try {\n    const { title, isDone } = payload;\n    const response = await axiosInstance.post(`${baseURL}/todos`, {\n      title,\n      isDone,\n    });\n    return response.data;\n  } catch (error) {\n    console.log('[Create Todo failed]:', error);\n  }\n}\n//patch\nexport const patchTodo = async (payload) => {\n  try {\n    const { title, isDone, id } = payload\n    //帶上要更新資料的id，放入要更新的資料\n    const response = await axiosInstance.patch(`${baseURL}/todos/${id}`,{title, isDone})\n    return response.data\n  } catch (error) {\n    console.error('[Patch Todo failed]:', error);\n  }\n}\n//delete\nexport const deleteTodo = async (id) => {\n  try {\n    const response = await axiosInstance.delete(`${baseURL}/todos/${id}`)\n    return response.data\n  } catch (error) {\n    console.error('[Delete Todo failed]:', error);\n  }\n}","import { Footer, Header, TodoCollection, TodoInput } from 'components';\nimport { useState, useEffect } from 'react'\nimport { useNavigate } from 'react-router-dom';\nimport { getTodos,createTodo, patchTodo, deleteTodo } from '../api/todos'\nimport { useAuth } from '../contexts/AuthContext'\n\nconst TodoPage = () => {\n  const [inputValue, setInputValue] = useState('');\n  const navigate = useNavigate();\n  //刪除dummyTodos改成axios取得資料\n  const [todos, setTodos] = useState([]);\n  //取出 isAuthenticated 身分狀態\n  const { isAuthenticated, currentMember } = useAuth();\n\n  //監聽InputValue事件\n  const handleChange = (value) => {\n    setInputValue(value);\n  };\n\n  //監聽按下新增看增加todo -> onAddTodo -> createTodo\n  const handleAddTodo = async () => {\n    if (inputValue.length === 0) return;\n    try {\n      //將inputValue作為createTodo()的參數\n      const data = await createTodo({\n        title: inputValue,\n        isDone: false,\n      });\n      //拿到資料後更新畫面todos\n      setTodos((prevTodos) => {\n        return [\n          ...prevTodos,\n          {\n            id: data.id,\n            title: data.title,\n            isDone: data.isDone,\n            isEdit: false,\n          },\n        ];\n      });\n      //新增資料後清空輸入框\n      setInputValue('');\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  //監聽todoInput的onkeyDown事件 -> createTodo\n  const handleKeyDown = async () => {\n    if (inputValue.length === 0) return;\n    try {\n      //將inputValue作為createTodo()的參數\n      const data = await createTodo({\n        title: inputValue,\n        isDone: false,\n      });\n      //拿到資料後更新畫面todos\n      setTodos((prevTodos) => {\n        return [\n          ...prevTodos,\n          {\n            id: data.id,\n            title: data.title,\n            isDone: data.isDone,\n            isEdit: false,\n          },\n        ];\n      });\n      //新增資料後清空輸入框\n      setInputValue('');\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  //監聽todoItem的icon，切換完成狀態\n  const handleToggleDone = async (id) => {\n    //用id查找出當下要toggle的項目再傳給patchTodo修改資料\n    const currentTodo = todos.find((todo) => todo.id === id);\n    try {\n      await patchTodo({ id, isDone: !currentTodo.isDone });\n      setTodos((prevTodos) => {\n        return prevTodos.map((todo) => {\n          if (todo.id === id) {\n            return {\n              ...todo,\n              isDone: !todo.isDone,\n            };\n          }\n          return todo;\n        });\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  //監聽todoItem的onDoubleClick修改內容事件\n  const handleChangeMode = ({ id, isEdit }) => {\n    setTodos((prevTodos) => {\n      return prevTodos.map((todo) => {\n        if (todo.id === id) {\n          return {\n            ...todo,\n            isEdit,\n          };\n        }\n        // 其他沒有被點擊的isEdit是false\n        return { ...todo, isEdit: false };\n      });\n    });\n  };\n\n  //監聽onSave事件，拿到id和修改的title\n  const handleSave = async ({ id, title }) => {\n    try {\n      await patchTodo({ id, title });\n      setTodos((prevTodos) => {\n        return prevTodos.map((todo) => {\n          if (todo.id === id) {\n            return {\n              ...todo,\n              title,\n              isEdit: false,\n            };\n          }\n          return todo;\n        });\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  //監聽onDelete事件，刪除todo\n  const handleDelete = async (id) => {\n    try {\n      await deleteTodo(id);\n      setTodos((prevTodos) => prevTodos.filter((todo) => todo.id !== id));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  //useEffect搭配getTodos，在畫面渲染後取得後端資料，拿到所有todos項目，更新todos的state\n  useEffect(() => {\n    const getTodosAsync = async () => {\n      try {\n        const todos = await getTodos();\n        setTodos(todos.map((todo) => ({ ...todo, isEdit: false })));\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    //執行\n    getTodosAsync();\n  }, []);\n  //useEffect搭配checkPermission\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate('/login');\n    }\n  }, [navigate, isAuthenticated]);\n\n  return (\n    <div>\n      TodoPage\n      <Header username={currentMember?.name}/>\n      <TodoInput\n        inputValue={inputValue}\n        onChange={handleChange}\n        onAddTodo={handleAddTodo}\n        onKeyDown={handleKeyDown}\n      />\n      <TodoCollection\n        todos={todos}\n        onToggleDone={handleToggleDone}\n        onChangeMode={handleChangeMode}\n        onSave={handleSave}\n        onDelete={handleDelete}\n      />\n      <Footer numOfTodos={todos} />\n    </div>\n  );\n};\n\nexport default TodoPage;\n","import './App.scss';\nimport { BrowserRouter, Route, Routes} from 'react-router-dom'\nimport { TodoPage, LoginPage, SignUpPage, HomePage} from './pages';\nimport { AuthProvider } from 'contexts/AuthContext';\nconst basename = process.env.PUBLIC_URL;\nfunction App() {\n  return (\n    <div className=\"app\">\n      <BrowserRouter basename={basename}>\n        <AuthProvider>\n          <Routes>\n            <Route path=\"login\" element={<LoginPage />}></Route>\n            <Route path=\"signup\" element={<SignUpPage />}></Route>\n            <Route path=\"todo\" element={<TodoPage />}></Route>\n            <Route path=\"*\" element={<HomePage />}></Route>\n          </Routes>\n        </AuthProvider>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}